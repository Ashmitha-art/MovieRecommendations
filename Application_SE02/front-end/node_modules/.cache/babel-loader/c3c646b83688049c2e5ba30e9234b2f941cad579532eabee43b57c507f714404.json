{"ast":null,"code":"import _slicedToArray from\"C:/Users/steve/OneDrive - San Francisco State University/Spring 2023/CSC 648/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import SelectGenre from\"./select_genre\";import SelectYear from\"./select_year\";import SelectRuntime from\"./select_runtime\";import SelectAge from\"./select_age\";import Results from\"./results\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SelectionSequence(){var _useState=useState(\"genre\"),_useState2=_slicedToArray(_useState,2),current=_useState2[0],set_current=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),genre=_useState4[0],set_genre=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),year=_useState6[0],set_year=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),runtime=_useState8[0],set_runtime=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),age=_useState10[0],set_age=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),results=_useState12[0],set_results=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),error=_useState14[0],set_error=_useState14[1];var generate_results=function generate_results(){var preferences={genre:genre,year:year,runtime:runtime,age:age};console.log(preferences);fetch(\"api/get_movie_recommendations/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Token \".concat(localStorage.getItem(\"token\"))},body:JSON.stringify(preferences)}).then(function(res){return res.json();}).then(function(data){set_results(data);}).catch(function(err){console.log(err.message);set_error(err);});set_current(\"results\");};return/*#__PURE__*/_jsxs(\"div\",{children:[current===\"genre\"&&/*#__PURE__*/_jsx(SelectGenre,{element:genre,set_element:set_genre}),current===\"year\"&&/*#__PURE__*/_jsx(SelectYear,{element:year,set_element:set_year}),current===\"runtime\"&&/*#__PURE__*/_jsx(SelectRuntime,{element:runtime,set_element:set_runtime}),current===\"age\"&&/*#__PURE__*/_jsx(SelectAge,{element:age,set_element:set_age}),current===\"results\"&&/*#__PURE__*/_jsx(Results,{data:results,error:error}),genre.length!=0&&current===\"genre\"&&/*#__PURE__*/_jsx(\"button\",{className:\"next-button\",onClick:function onClick(){set_current(\"year\");},children:\"Next\"}),year.length!=0&&current===\"year\"&&/*#__PURE__*/_jsx(\"button\",{className:\"next-button\",onClick:function onClick(){set_current(\"runtime\");},children:\"Next\"}),runtime.length!=0&&current===\"runtime\"&&/*#__PURE__*/_jsx(\"button\",{className:\"next-button\",onClick:function onClick(){set_current(\"age\");},children:\"Next\"}),age.length!=0&&current===\"age\"&&/*#__PURE__*/_jsx(\"button\",{className:\"next-button\",onClick:function onClick(){generate_results();},children:\"Generate Recommendations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"test\",children:genre}),/*#__PURE__*/_jsx(\"p\",{className:\"test\",children:year}),/*#__PURE__*/_jsx(\"p\",{className:\"test\",children:runtime}),/*#__PURE__*/_jsx(\"p\",{className:\"test\",children:age})]});}export default SelectionSequence;","map":{"version":3,"names":["useState","SelectGenre","SelectYear","SelectRuntime","SelectAge","Results","SelectionSequence","current","set_current","genre","set_genre","year","set_year","runtime","set_runtime","age","set_age","results","set_results","error","set_error","generate_results","preferences","console","log","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","then","res","json","data","catch","err","message","length"],"sources":["C:/Users/steve/OneDrive - San Francisco State University/Spring 2023/CSC 648/csc648-spring23-04-team02/Application_SE02/front-end/src/recommend.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport SelectGenre from \"./select_genre\";\r\nimport SelectYear from \"./select_year\";\r\nimport SelectRuntime from \"./select_runtime\";\r\nimport SelectAge from \"./select_age\";\r\nimport Results from \"./results\";\r\n\r\nfunction SelectionSequence() {\r\n  const [current, set_current] = useState(\"genre\");\r\n\r\n  const [genre, set_genre] = useState([]);\r\n  const [year, set_year] = useState([]);\r\n  const [runtime, set_runtime] = useState([]);\r\n  const [age, set_age] = useState([]);\r\n\r\n  const [results, set_results] = useState([]);\r\n  const [error, set_error] = useState(\"\");\r\n\r\n  const generate_results = () => {\r\n    const preferences = { genre, year, runtime, age };\r\n    console.log(preferences);\r\n\r\n    fetch(\"api/get_movie_recommendations/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Token ${localStorage.getItem(\"token\")}`,\r\n      },\r\n      body: JSON.stringify(preferences),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        set_results(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n        set_error(err);\r\n      });\r\n    set_current(\"results\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* Selection Pages */}\r\n      {current === \"genre\" && (\r\n        <SelectGenre element={genre} set_element={set_genre} />\r\n      )}\r\n      {current === \"year\" && (\r\n        <SelectYear element={year} set_element={set_year} />\r\n      )}\r\n      {current === \"runtime\" && (\r\n        <SelectRuntime element={runtime} set_element={set_runtime} />\r\n      )}\r\n      {current === \"age\" && <SelectAge element={age} set_element={set_age} />}\r\n\r\n      {current === \"results\" && <Results data={results} error={error} />}\r\n\r\n      {/* Next Buttons */}\r\n      {genre.length != 0 && current === \"genre\" && (\r\n        <button\r\n          className=\"next-button\"\r\n          onClick={() => {\r\n            set_current(\"year\");\r\n          }}\r\n        >\r\n          Next\r\n        </button>\r\n      )}\r\n      {year.length != 0 && current === \"year\" && (\r\n        <button\r\n          className=\"next-button\"\r\n          onClick={() => {\r\n            set_current(\"runtime\");\r\n          }}\r\n        >\r\n          Next\r\n        </button>\r\n      )}\r\n      {runtime.length != 0 && current === \"runtime\" && (\r\n        <button\r\n          className=\"next-button\"\r\n          onClick={() => {\r\n            set_current(\"age\");\r\n          }}\r\n        >\r\n          Next\r\n        </button>\r\n      )}\r\n      {age.length != 0 && current === \"age\" && (\r\n        <button\r\n          className=\"next-button\"\r\n          onClick={() => {\r\n            generate_results();\r\n          }}\r\n        >\r\n          Generate Recommendations\r\n        </button>\r\n      )}\r\n\r\n      {/* Testing... */}\r\n\r\n      <p className=\"test\">{genre}</p>\r\n      <p className=\"test\">{year}</p>\r\n      <p className=\"test\">{runtime}</p>\r\n      <p className=\"test\">{age}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SelectionSequence;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}