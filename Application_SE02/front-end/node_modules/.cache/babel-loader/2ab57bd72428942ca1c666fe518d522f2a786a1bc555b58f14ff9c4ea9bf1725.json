{"ast":null,"code":"import _defineProperty from\"/Users/jpl-st-spring2021/Desktop/NathanUnitTests01May/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/jpl-st-spring2021/Desktop/NathanUnitTests01May/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/jpl-st-spring2021/Desktop/NathanUnitTests01May/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/jpl-st-spring2021/Desktop/NathanUnitTests01May/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/jpl-st-spring2021/Desktop/NathanUnitTests01May/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",password:\"\",InfoErrors:{},isLoggedin:false};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();if(true){var _document$cookie$matc;var form_data=new FormData();form_data.append(\"username\",_this.state.username);form_data.append(\"password\",_this.state.password);fetch(\"api/login/\",{method:\"POST\",body:form_data,headers:{// Include the CSRF token in the headers\n\"X-CSRFToken\":((_document$cookie$matc=document.cookie.match('(^|;)\\\\s*'+'csrftoken'+'\\\\s*=\\\\s*([^;]+)'))===null||_document$cookie$matc===void 0?void 0:_document$cookie$matc.pop())||''}}).then(function(res){if(!res.ok)throw Error(\"Could not fetch data.\");return res.json();}).then(function(data){localStorage.setItem(\"token\",data.token);_this.setState({isLoggedin:true});}).catch(function(err){console.log(err.message);});}};_this.LoginValidation=function(){var InfoErrors={};var ValidCredentials=true;if(!_this.state.username.match(/^[A-Za-z][A-Za-z0-9]+$/)){ValidCredentials=false;InfoErrors[\"username\"]=\"Username must begin with an alphanumeric character.\";}else{if(!_this.state.username.match(/^[A-Za-z]\\w{2,20}$/)){ValidCredentials=false;InfoErrors[\"username\"]=\"Username must contain at least 3 alphanumeric characters.\";}}if(!_this.state.password){ValidCredentials=false;InfoErrors[\"password\"]=\"Please enter a valid password.\";}else if(_this.state.password){if(!_this.state.password.match(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/)){ValidCredentials=false;InfoErrors[\"password\"]=\"Password must be at least 8 characters and contain 1 letter, 1 number and a symbol.\";}}_this.setState({InfoErrors:InfoErrors});return ValidCredentials;};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){var _this$state=this.state,username=_this$state.username,password=_this$state.password,isLoggedin=_this$state.isLoggedin;if(isLoggedin){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"Login_Main_Div\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"heading\",children:\"Login\"}),/*#__PURE__*/_jsx(\"form\",{name:\"Login_Form\",onSubmit:this.handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"Login_Container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"Login_Username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"LoginRegisterInputFields\",type:\"text\",id:\"username\",placeholder:\"Username\",name:\"username\",value:username,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"ErrorMessage\",children:this.state.InfoErrors.username}),/*#__PURE__*/_jsx(\"label\",{className:\"Login_Password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"LoginRegisterInputFields\",type:\"password\",id:\"password\",placeholder:\"Password\",name:\"password\",value:password,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"ErrorMessage\",children:this.state.InfoErrors.password}),/*#__PURE__*/_jsx(\"button\",{onClick:this.handleSubmit,className:\"Login_Button\",value:\"Log In\",children:\"Log In\"})]})})]});}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"names":["React","Component","Navigate","jsx","_jsx","jsxs","_jsxs","LoginForm","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","username","password","InfoErrors","isLoggedin","handleChange","event","setState","_defineProperty","target","name","value","handleSubmit","preventDefault","_document$cookie$matc","form_data","FormData","append","fetch","method","body","headers","document","cookie","match","pop","then","res","ok","Error","json","data","localStorage","setItem","token","catch","err","console","log","message","LoginValidation","ValidCredentials","_createClass","key","render","_this$state","to","className","children","onSubmit","type","id","placeholder","onChange","onClick"],"sources":["/Users/jpl-st-spring2021/Desktop/NathanUnitTests01May/csc648-spring23-04-team02/Application_SE02/front-end/src/Login.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport {Navigate} from \"react-router-dom\";\n\nclass LoginForm extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    InfoErrors: {},\n    isLoggedin: false,\n  };\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (true) {\n      let form_data = new FormData();\n      form_data.append(\"username\", this.state.username);\n      form_data.append(\"password\", this.state.password);\n\n      fetch(\"api/login/\", {\n        method: \"POST\",\n        body: form_data,\n        headers: {\n          // Include the CSRF token in the headers\n          \"X-CSRFToken\": (document.cookie.match('(^|;)\\\\s*' + 'csrftoken' + '\\\\s*=\\\\s*([^;]+)')?.pop() || ''),\n        },\n      })\n          .then((res) => {\n            if (!res.ok) throw Error(\"Could not fetch data.\");\n            return res.json();\n          })\n          .then((data) => {\n            localStorage.setItem(\"token\", data.token);\n            this.setState({isLoggedin: true});\n          })\n          .catch((err) => {\n            console.log(err.message);\n          });\n    }\n  };\n\n  LoginValidation = () => {\n    let InfoErrors = {};\n    let ValidCredentials = true;\n\n    if (!this.state.username.match(/^[A-Za-z][A-Za-z0-9]+$/)) {\n      ValidCredentials = false;\n      InfoErrors[\"username\"] =\n          \"Username must begin with an alphanumeric character.\";\n    } else {\n      if (!this.state.username.match(/^[A-Za-z]\\w{2,20}$/)) {\n        ValidCredentials = false;\n        InfoErrors[\"username\"] =\n            \"Username must contain at least 3 alphanumeric characters.\";\n      }\n    }\n\n    if (!this.state.password) {\n      ValidCredentials = false;\n      InfoErrors[\"password\"] = \"Please enter a valid password.\";\n    } else if (this.state.password) {\n      if (\n          !this.state.password.match(\n              /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/\n          )\n      ) {\n        ValidCredentials = false;\n        InfoErrors[\"password\"] =\n            \"Password must be at least 8 characters and contain 1 letter, 1 number and a symbol.\";\n      }\n    }\n\n    this.setState({InfoErrors});\n    return ValidCredentials;\n  };\n\n  render() {\n    const {username, password, isLoggedin} = this.state;\n    if (isLoggedin) {\n      return <Navigate to=\"/\"/>\n    }\n\n      return (\n          <div className=\"Login_Main_Div\">\n            <h1 className=\"heading\">Login</h1>\n            <form name=\"Login_Form\" onSubmit={this.handleSubmit}>\n              <div className=\"Login_Container\">\n                <label className=\"Login_Username\">Username</label>\n                <input\n                    className=\"LoginRegisterInputFields\"\n                    type=\"text\"\n                    id=\"username\"\n                    placeholder=\"Username\"\n                    name=\"username\"\n                    value={username}\n                    onChange={this.handleChange}\n                />\n                <div className=\"ErrorMessage\">{this.state.InfoErrors.username}</div>\n\n                <label className=\"Login_Password\">Password</label>\n                <input\n                    className=\"LoginRegisterInputFields\"\n                    type=\"password\"\n                    id=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={this.handleChange}\n                />\n                <div className=\"ErrorMessage\">{this.state.InfoErrors.password}</div>\n                {/*\n            <a className=\"Forgot_Password\" href=\"/\">\n              Forgot Password?\n            </a>\n            */}\n                <button onClick={this.handleSubmit} className=\"Login_Button\" value=\"Log In\">Log In</button>\n              </div>\n            </form>\n          </div>\n      );\n    }\n  }\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}