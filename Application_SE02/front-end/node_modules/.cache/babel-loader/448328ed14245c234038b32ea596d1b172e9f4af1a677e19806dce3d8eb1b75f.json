{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){var navigate=useNavigate();var routeChange=function routeChange(route){var path=\"/\"+route;navigate(path);};var logout=function logout(){var _document$cookie$matc;fetch(\"api/logout/\",{method:\"POST\",headers:{Authorization:\"Token \".concat(localStorage.getItem(\"token\")),\"X-CSRFToken\":((_document$cookie$matc=document.cookie.match('(^|;)\\\\s*'+'csrftoken'+'\\\\s*=\\\\s*([^;]+)'))===null||_document$cookie$matc===void 0?void 0:_document$cookie$matc.pop())||''}}).then(function(res){if(!res.ok)throw Error(\"Could not fetch data.\");return res.json();}).catch(function(err){console.log(err.message);});};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){routeChange(\"\");},className:\"navbar-button\",children:\"Home\"}),!localStorage.getItem(\"token\")&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){routeChange(\"login\");routeChange(\"/\");},className:\"navbar-button\",children:\"Login\"}),localStorage.getItem(\"token\")&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){logout();localStorage.removeItem(\"token\");window.location.reload();},className:\"navbar-button\",children:\"Logout\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){routeChange(\"signup\");},className:\"navbar-button\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){routeChange(\"my-list\");},className:\"navbar-button\",children:\"My List\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){routeChange(\"about\");},className:\"navbar-button\",id:\"about\",children:\"About\"})]});}export default Navbar;","map":{"version":3,"names":["useNavigate","jsx","_jsx","jsxs","_jsxs","Navbar","navigate","routeChange","route","path","logout","_document$cookie$matc","fetch","method","headers","Authorization","concat","localStorage","getItem","document","cookie","match","pop","then","res","ok","Error","json","catch","err","console","log","message","className","children","onClick","removeItem","window","location","reload","id"],"sources":["/Users/jpl-st-spring2021/Desktop/NathanUnitTests01May/csc648-spring23-04-team02/Application_SE02/front-end/src/Navbar.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\n\nfunction Navbar() {\n  let navigate = useNavigate();\n\n  const routeChange = (route) => {\n    let path = \"/\" + route;\n    navigate(path);\n  };\n\n  const logout = () => {\n    fetch(\"api/logout/\", {\n      method: \"POST\",\n      headers: {\n        Authorization: `Token ${localStorage.getItem(\"token\")}`,\n        \"X-CSRFToken\": (document.cookie.match('(^|;)\\\\s*' + 'csrftoken' + '\\\\s*=\\\\s*([^;]+)')?.pop() || ''),\n      },\n    })\n      .then((res) => {\n        if (!res.ok) throw Error(\"Could not fetch data.\");\n        return res.json();\n      })\n      .catch((err) => {\n        console.log(err.message);\n      });\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <button\n        onClick={() => {\n          routeChange(\"\");\n        }}\n        className=\"navbar-button\"\n      >\n        Home\n      </button>\n      {!localStorage.getItem(\"token\") && (\n        <button\n          onClick={() => {\n            routeChange(\"login\");\n            routeChange(\"/\");\n          }}\n          className=\"navbar-button\"\n        >\n          Login\n        </button>\n      )}\n      {localStorage.getItem(\"token\") && (\n        <button\n          onClick={() => {\n            logout();\n            localStorage.removeItem(\"token\");\n            window.location.reload();\n          }}\n          className=\"navbar-button\"\n        >\n          Logout\n        </button>\n      )}\n      <button\n        onClick={() => {\n          routeChange(\"signup\");\n        }}\n        className=\"navbar-button\"\n      >\n        Sign Up\n      </button>\n      <button\n        onClick={() => {\n          routeChange(\"my-list\");\n        }}\n        className=\"navbar-button\"\n      >\n        My List\n      </button>\n\n      <button\n        onClick={() => {\n          routeChange(\"about\");\n        }}\n        className=\"navbar-button\"\n        id=\"about\"\n      >\n        About\n      </button>\n    </nav>\n  );\n}\n\nexport default Navbar;\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,GAAI,CAAAC,QAAQ,CAAGN,WAAW,EAAE,CAE5B,GAAM,CAAAO,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,KAAK,CAAK,CAC7B,GAAI,CAAAC,IAAI,CAAG,GAAG,CAAGD,KAAK,CACtBF,QAAQ,CAACG,IAAI,CAAC,CAChB,CAAC,CAED,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,KAAAC,qBAAA,CACnBC,KAAK,CAAC,aAAa,CAAE,CACnBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACPC,aAAa,UAAAC,MAAA,CAAWC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE,CACvD,aAAa,CAAG,EAAAP,qBAAA,CAAAQ,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,WAAW,CAAG,WAAW,CAAG,kBAAkB,CAAC,UAAAV,qBAAA,iBAArEA,qBAAA,CAAuEW,GAAG,EAAE,GAAI,EAClG,CACF,CAAC,CAAC,CACCC,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,KAAM,CAAAC,KAAK,CAAC,uBAAuB,CAAC,CACjD,MAAO,CAAAF,GAAG,CAACG,IAAI,EAAE,CACnB,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,OAAO,CAAC,CAC1B,CAAC,CAAC,CACN,CAAC,CAED,mBACE5B,KAAA,QAAK6B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBhC,IAAA,WACEiC,OAAO,CAAE,SAAAA,QAAA,CAAM,CACb5B,WAAW,CAAC,EAAE,CAAC,CACjB,CAAE,CACF0B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC1B,MAED,EAAS,CACR,CAACjB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,eAC7BhB,IAAA,WACEiC,OAAO,CAAE,SAAAA,QAAA,CAAM,CACb5B,WAAW,CAAC,OAAO,CAAC,CACpBA,WAAW,CAAC,GAAG,CAAC,CAClB,CAAE,CACF0B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC1B,OAED,EACD,CACAjB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,eAC5BhB,IAAA,WACEiC,OAAO,CAAE,SAAAA,QAAA,CAAM,CACbzB,MAAM,EAAE,CACRO,YAAY,CAACmB,UAAU,CAAC,OAAO,CAAC,CAChCC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE,CAC1B,CAAE,CACFN,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC1B,QAED,EACD,cACDhC,IAAA,WACEiC,OAAO,CAAE,SAAAA,QAAA,CAAM,CACb5B,WAAW,CAAC,QAAQ,CAAC,CACvB,CAAE,CACF0B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC1B,SAED,EAAS,cACThC,IAAA,WACEiC,OAAO,CAAE,SAAAA,QAAA,CAAM,CACb5B,WAAW,CAAC,SAAS,CAAC,CACxB,CAAE,CACF0B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC1B,SAED,EAAS,cAEThC,IAAA,WACEiC,OAAO,CAAE,SAAAA,QAAA,CAAM,CACb5B,WAAW,CAAC,OAAO,CAAC,CACtB,CAAE,CACF0B,SAAS,CAAC,eAAe,CACzBO,EAAE,CAAC,OAAO,CAAAN,QAAA,CACX,OAED,EAAS,GACL,CAEV,CAEA,cAAe,CAAA7B,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}