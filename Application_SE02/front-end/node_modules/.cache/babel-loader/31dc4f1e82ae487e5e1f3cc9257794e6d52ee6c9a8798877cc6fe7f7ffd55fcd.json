{"ast":null,"code":"import _defineProperty from\"C:/Users/fanta/Documents/SFSU/Semester 4 (Spring 2023)/CSC648/Project/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/fanta/Documents/SFSU/Semester 4 (Spring 2023)/CSC648/Project/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/fanta/Documents/SFSU/Semester 4 (Spring 2023)/CSC648/Project/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/fanta/Documents/SFSU/Semester 4 (Spring 2023)/CSC648/Project/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/fanta/Documents/SFSU/Semester 4 (Spring 2023)/CSC648/Project/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",password:\"\",InfoErrors:{}};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();if(true){var form_data=new FormData();form_data.append(\"username\",_this.state.username);form_data.append(\"password\",_this.state.password);fetch(\"api/login/\",{method:\"POST\",body:form_data}).then(function(res){if(!res.ok)throw Error(\"Could not fetch data.\");return res.json();}).then(function(data){localStorage.setItem(\"token\",data.token);}).catch(function(err){console.log(err.message);});}};_this.LoginValidation=function(){var InfoErrors={};var ValidCredentials=true;if(!_this.state.username.match(/^[A-Za-z][A-Za-z0-9]+$/)){ValidCredentials=false;InfoErrors[\"username\"]=\"Username must begin with an alphanumeric character.\";}else{if(!_this.state.username.match(/^[A-Za-z]\\w{2,20}$/)){ValidCredentials=false;InfoErrors[\"username\"]=\"Username must contain at least 3 alphanumeric characters.\";}}if(!_this.state.password){ValidCredentials=false;InfoErrors[\"password\"]=\"Please enter a valid password.\";}else if(_this.state.password){if(!_this.state.password.match(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/)){ValidCredentials=false;InfoErrors[\"password\"]=\"Password must be at least 8 characters and contain 1 letter, 1 number and a symbol.\";}}_this.setState({InfoErrors:InfoErrors});return ValidCredentials;};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){var _this$state=this.state,username=_this$state.username,password=_this$state.password;return/*#__PURE__*/_jsxs(\"div\",{className:\"Login_Main_Div\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"heading\",children:\"Login\"}),/*#__PURE__*/_jsx(\"form\",{name:\"Login_Form\",onSubmit:this.handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"Login_Container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"Login_Username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"LoginRegisterInputFields\",type:\"text\",id:\"username\",placeholder:\"Username\",name:\"username\",value:username,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"ErrorMessage\",children:this.state.InfoErrors.username}),/*#__PURE__*/_jsx(\"label\",{className:\"Login_Password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"LoginRegisterInputFields\",type:\"password\",id:\"password\",placeholder:\"Password\",name:\"password\",value:password,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"ErrorMessage\",children:this.state.InfoErrors.password}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"Login_Button\",value:\"Log In\"})]})})]});}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"names":["React","Component","LoginForm","state","username","password","InfoErrors","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","form_data","FormData","append","fetch","method","body","then","res","ok","Error","json","data","localStorage","setItem","token","catch","err","console","log","message","LoginValidation","ValidCredentials","match"],"sources":["C:/Users/fanta/Documents/SFSU/Semester 4 (Spring 2023)/CSC648/Project/csc648-spring23-04-team02/Application_SE02/front-end/src/login.js"],"sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass LoginForm extends Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    InfoErrors: {},\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (true) {\r\n      let form_data = new FormData();\r\n      form_data.append(\"username\", this.state.username);\r\n      form_data.append(\"password\", this.state.password);\r\n\r\n      fetch(\"api/login/\", {\r\n        method: \"POST\",\r\n        body: form_data,\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) throw Error(\"Could not fetch data.\");\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          localStorage.setItem(\"token\", data.token);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  LoginValidation = () => {\r\n    let InfoErrors = {};\r\n    let ValidCredentials = true;\r\n\r\n    if (!this.state.username.match(/^[A-Za-z][A-Za-z0-9]+$/)) {\r\n      ValidCredentials = false;\r\n      InfoErrors[\"username\"] =\r\n        \"Username must begin with an alphanumeric character.\";\r\n    } else {\r\n      if (!this.state.username.match(/^[A-Za-z]\\w{2,20}$/)) {\r\n        ValidCredentials = false;\r\n        InfoErrors[\"username\"] =\r\n          \"Username must contain at least 3 alphanumeric characters.\";\r\n      }\r\n    }\r\n\r\n    if (!this.state.password) {\r\n      ValidCredentials = false;\r\n      InfoErrors[\"password\"] = \"Please enter a valid password.\";\r\n    } else if (this.state.password) {\r\n      if (\r\n        !this.state.password.match(\r\n          /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/\r\n        )\r\n      ) {\r\n        ValidCredentials = false;\r\n        InfoErrors[\"password\"] =\r\n          \"Password must be at least 8 characters and contain 1 letter, 1 number and a symbol.\";\r\n      }\r\n    }\r\n\r\n    this.setState({ InfoErrors });\r\n    return ValidCredentials;\r\n  };\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n\r\n    return (\r\n      <div className=\"Login_Main_Div\">\r\n        <h1 className=\"heading\">Login</h1>\r\n        <form name=\"Login_Form\" onSubmit={this.handleSubmit}>\r\n          <div className=\"Login_Container\">\r\n            <label className=\"Login_Username\">Username</label>\r\n            <input\r\n              className=\"LoginRegisterInputFields\"\r\n              type=\"text\"\r\n              id=\"username\"\r\n              placeholder=\"Username\"\r\n              name=\"username\"\r\n              value={username}\r\n              onChange={this.handleChange}\r\n            />\r\n            <div className=\"ErrorMessage\">{this.state.InfoErrors.username}</div>\r\n\r\n            <label className=\"Login_Password\">Password</label>\r\n            <input\r\n              className=\"LoginRegisterInputFields\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              placeholder=\"Password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={this.handleChange}\r\n            />\r\n            <div className=\"ErrorMessage\">{this.state.InfoErrors.password}</div>\r\n            {/*\r\n            <a className=\"Forgot_Password\" href=\"/\">\r\n              Forgot Password?\r\n            </a>\r\n            */}\r\n            <input type=\"submit\" className=\"Login_Button\" value=\"Log In\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}