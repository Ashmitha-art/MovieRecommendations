{"ast":null,"code":"import _defineProperty from\"C:/Users/steve/OneDrive - San Francisco State University/Spring 2023/CSC 648/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/steve/OneDrive - San Francisco State University/Spring 2023/CSC 648/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/steve/OneDrive - San Francisco State University/Spring 2023/CSC 648/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/steve/OneDrive - San Francisco State University/Spring 2023/CSC 648/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/steve/OneDrive - San Francisco State University/Spring 2023/CSC 648/csc648-spring23-04-team02/Application_SE02/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",password:\"\",InfoErrors:{},isLoggedin:false};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();if(true){var _document$cookie$matc;var form_data=new FormData();form_data.append(\"username\",_this.state.username);form_data.append(\"password\",_this.state.password);fetch(\"api/login/\",{method:\"POST\",body:form_data,headers:{// Include the CSRF token in the headers\n\"X-CSRFToken\":((_document$cookie$matc=document.cookie.match('(^|;)\\\\s*'+'csrftoken'+'\\\\s*=\\\\s*([^;]+)'))===null||_document$cookie$matc===void 0?void 0:_document$cookie$matc.pop())||''}}).then(function(res){if(!res.ok)throw Error(\"Could not fetch data.\");return res;}).then(function(data){localStorage.setItem(\"token\",data.token);_this.setState({isLoggedin:true});}).catch(function(err){console.log(err.message);});}};_this.LoginValidation=function(){var InfoErrors={};var ValidCredentials=true;if(!_this.state.username.match(/^[A-Za-z][A-Za-z0-9]+$/)){ValidCredentials=false;InfoErrors[\"username\"]=\"Username must begin with an alphanumeric character.\";}else{if(!_this.state.username.match(/^[A-Za-z]\\w{2,20}$/)){ValidCredentials=false;InfoErrors[\"username\"]=\"Username must contain at least 3 alphanumeric characters.\";}}if(!_this.state.password){ValidCredentials=false;InfoErrors[\"password\"]=\"Please enter a valid password.\";}else if(_this.state.password){if(!_this.state.password.match(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/)){ValidCredentials=false;InfoErrors[\"password\"]=\"Password must be at least 8 characters and contain 1 letter, 1 number and a symbol.\";}}_this.setState({InfoErrors:InfoErrors});return ValidCredentials;};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){var _this$state=this.state,username=_this$state.username,password=_this$state.password,isLoggedin=_this$state.isLoggedin;if(isLoggedin){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"Login_Main_Div\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"heading\",children:\"Login\"}),/*#__PURE__*/_jsx(\"form\",{name:\"Login_Form\",onSubmit:this.handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"Login_Container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"Login_Username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"LoginRegisterInputFields\",type:\"text\",id:\"username\",placeholder:\"Username\",name:\"username\",value:username,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"ErrorMessage\",children:this.state.InfoErrors.username}),/*#__PURE__*/_jsx(\"label\",{className:\"Login_Password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"LoginRegisterInputFields\",type:\"password\",id:\"password\",placeholder:\"Password\",name:\"password\",value:password,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"ErrorMessage\",children:this.state.InfoErrors.password}),/*#__PURE__*/_jsx(\"button\",{onClick:this.handleSubmit,className:\"Login_Button\",value:\"Log In\",children:\"Log In\"})]})})]});}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"names":["React","Component","Navigate","LoginForm","state","username","password","InfoErrors","isLoggedin","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","form_data","FormData","append","fetch","method","body","headers","document","cookie","match","pop","then","res","ok","Error","data","localStorage","setItem","token","catch","err","console","log","message","LoginValidation","ValidCredentials"],"sources":["C:/Users/steve/OneDrive - San Francisco State University/Spring 2023/CSC 648/csc648-spring23-04-team02/Application_SE02/front-end/src/login.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport {Navigate} from \"react-router-dom\";\r\n\r\nclass LoginForm extends Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    InfoErrors: {},\r\n    isLoggedin: false,\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (true) {\r\n      let form_data = new FormData();\r\n      form_data.append(\"username\", this.state.username);\r\n      form_data.append(\"password\", this.state.password);\r\n\r\n      fetch(\"api/login/\", {\r\n        method: \"POST\",\r\n        body: form_data,\r\n        headers: {\r\n          // Include the CSRF token in the headers\r\n          \"X-CSRFToken\": (document.cookie.match('(^|;)\\\\s*' + 'csrftoken' + '\\\\s*=\\\\s*([^;]+)')?.pop() || ''),\r\n        },\r\n      })\r\n          .then((res) => {\r\n            if (!res.ok) throw Error(\"Could not fetch data.\");\r\n            return res;\r\n          })\r\n          .then((data) => {\r\n            localStorage.setItem(\"token\", data.token);\r\n            this.setState({isLoggedin: true});\r\n          })\r\n          .catch((err) => {\r\n            console.log(err.message);\r\n          });\r\n    }\r\n  };\r\n\r\n  LoginValidation = () => {\r\n    let InfoErrors = {};\r\n    let ValidCredentials = true;\r\n\r\n    if (!this.state.username.match(/^[A-Za-z][A-Za-z0-9]+$/)) {\r\n      ValidCredentials = false;\r\n      InfoErrors[\"username\"] =\r\n          \"Username must begin with an alphanumeric character.\";\r\n    } else {\r\n      if (!this.state.username.match(/^[A-Za-z]\\w{2,20}$/)) {\r\n        ValidCredentials = false;\r\n        InfoErrors[\"username\"] =\r\n            \"Username must contain at least 3 alphanumeric characters.\";\r\n      }\r\n    }\r\n\r\n    if (!this.state.password) {\r\n      ValidCredentials = false;\r\n      InfoErrors[\"password\"] = \"Please enter a valid password.\";\r\n    } else if (this.state.password) {\r\n      if (\r\n          !this.state.password.match(\r\n              /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/\r\n          )\r\n      ) {\r\n        ValidCredentials = false;\r\n        InfoErrors[\"password\"] =\r\n            \"Password must be at least 8 characters and contain 1 letter, 1 number and a symbol.\";\r\n      }\r\n    }\r\n\r\n    this.setState({InfoErrors});\r\n    return ValidCredentials;\r\n  };\r\n\r\n  render() {\r\n    const {username, password, isLoggedin} = this.state;\r\n    if (isLoggedin) {\r\n      return <Navigate to=\"/\"/>\r\n    }\r\n\r\n      return (\r\n          <div className=\"Login_Main_Div\">\r\n            <h1 className=\"heading\">Login</h1>\r\n            <form name=\"Login_Form\" onSubmit={this.handleSubmit}>\r\n              <div className=\"Login_Container\">\r\n                <label className=\"Login_Username\">Username</label>\r\n                <input\r\n                    className=\"LoginRegisterInputFields\"\r\n                    type=\"text\"\r\n                    id=\"username\"\r\n                    placeholder=\"Username\"\r\n                    name=\"username\"\r\n                    value={username}\r\n                    onChange={this.handleChange}\r\n                />\r\n                <div className=\"ErrorMessage\">{this.state.InfoErrors.username}</div>\r\n\r\n                <label className=\"Login_Password\">Password</label>\r\n                <input\r\n                    className=\"LoginRegisterInputFields\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    placeholder=\"Password\"\r\n                    name=\"password\"\r\n                    value={password}\r\n                    onChange={this.handleChange}\r\n                />\r\n                <div className=\"ErrorMessage\">{this.state.InfoErrors.password}</div>\r\n                {/*\r\n            <a className=\"Forgot_Password\" href=\"/\">\r\n              Forgot Password?\r\n            </a>\r\n            */}\r\n                <button onClick={this.handleSubmit} className=\"Login_Button\" value=\"Log In\">Log In</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n      );\r\n    }\r\n  }\r\nexport default LoginForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}